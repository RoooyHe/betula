# 卡片详情模态框布局设计

## 新布局结构

### 整体布局
```
┌─────────────────────────────────────────────────────────┐
│  卡片详情                                          ×    │  ← 标题栏
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ┌──────────────────────┐  ┌──────────────────────┐   │
│  │  左侧区域 (450px)    │  │  右侧区域 (Fill)     │   │
│  │                      │  │                      │   │
│  │  ┌────────────────┐ │  │  ┌────────────────┐ │   │
│  │  │ 卡片基本信息   │ │  │  │ 活动记录       │ │   │
│  │  │ - 标题         │ │  │  │                │ │   │
│  │  │ - 描述         │ │  │  │ - 活动1        │ │   │
│  │  │ - 状态         │ │  │  │ - 活动2        │ │   │
│  │  └────────────────┘ │  │  │ - 活动3        │ │   │
│  │                      │  │  │ ...            │ │   │
│  │  ┌────────────────┐ │  │  │                │ │   │
│  │  │ 标签管理       │ │  │  │                │ │   │
│  │  │ - 当前标签     │ │  │  │                │ │   │
│  │  │ - 添加标签     │ │  │  │                │ │   │
│  │  └────────────────┘ │  │  │                │ │   │
│  │                      │  │  │                │ │   │
│  │  ┌────────────────┐ │  │  │                │ │   │
│  │  │ 待办事项       │ │  │  │                │ │   │
│  │  │ - Todo列表     │ │  │  │                │ │   │
│  │  │ - 添加待办     │ │  │  │                │ │   │
│  │  └────────────────┘ │  │  └────────────────┘ │   │
│  │                      │  │                      │   │
│  └──────────────────────┘  └──────────────────────┘   │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

## 布局特点

### 1. 左右分栏
- **左侧区域 (450px 固定宽度)**
  - 卡片基本信息（标题、描述、状态）
  - 标签管理
  - 待办事项管理
  
- **右侧区域 (Fill 自适应)**
  - 活动记录
  - 占据剩余空间

### 2. 独立滚动
- 左侧和右侧各有独立的 ScrollYView
- 可以分别滚动，互不影响
- 适合内容较多的情况

### 3. 尺寸调整
- 模态框宽度：600px → 800px（增加 200px）
- 模态框高度：500px → 600px（增加 100px）
- 更宽敞的显示空间

## 代码结构

```rust
pub CardDetailModal = <Modal> {
    content: <RoundedView> {
        width: 800,
        height: 600,
        flow: Down,
        
        <ModalHeader> {}
        
        <View> {
            flow: Right,  // 左右分栏
            spacing: 20,
            
            // 左侧
            <ScrollYView> {
                width: 450,
                <View> {
                    <CardInfoSection> {}
                    <TagSection> {}
                    <TodoSection> {}
                }
            }
            
            // 右侧
            <ScrollYView> {
                width: Fill,
                <View> {
                    <ActiveSection> {}
                }
            }
        }
    }
}
```

## 优势

1. **信息分组清晰**
   - 左侧：可编辑的卡片信息
   - 右侧：只读的活动记录

2. **空间利用更好**
   - 活动记录通常较长，独占右侧可以更好地展示
   - 左侧信息更紧凑，便于快速编辑

3. **视觉平衡**
   - 左右分栏比单列更美观
   - 符合现代 UI 设计习惯

4. **扩展性强**
   - 可以轻松调整左右宽度比例
   - 可以在右侧添加更多只读信息

## 响应式考虑

如果需要支持小屏幕，可以：
1. 减小模态框宽度
2. 调整左侧区域宽度
3. 或改为上下布局（flow: Down）

## 与 Trello 对比

Trello 的卡片详情也采用类似布局：
- 左侧：卡片内容、描述、附件等
- 右侧：操作按钮、活动记录等

我们的设计遵循了这个成熟的 UX 模式。
